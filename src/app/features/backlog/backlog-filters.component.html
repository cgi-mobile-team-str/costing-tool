<div class="filters-container">
  <div class="filters-row">
    <input
      type="text"
      [ngModel]="searchTerm"
      (ngModelChange)="searchTermChange.emit($event)"
      placeholder="Search..."
      class="form-control search"
    />
    <select
      [ngModel]="scopeFilter"
      (ngModelChange)="scopeFilterChange.emit($event)"
      class="form-control"
    >
      <option value="">All Scopes</option>
      <option value="MVP">MVP</option>
      <option value="V1">V1</option>
      <option value="V2">V2</option>
    </select>
  </div>
  <div class="filter-section">
    <label class="filter-label">{{ 'backlog.filter_profiles' | translate }}</label>
    <div class="profile-badges">
      <button
        class="badge-filter"
        [class.selected]="profileFilter.length === 0"
        (click)="profileFilterChange.emit([])"
      >
        {{ 'common.all' | translate }}
      </button>
      @for (p of profiles; track p.id) {
        <button
          class="badge-filter"
          [class.selected]="profileFilter.includes(p.id)"
          (click)="toggleProfile(p.id)"
        >
          {{ p.name }}
        </button>
      }
    </div>
  </div>
  <div class="filter-section">
    <label class="filter-label">{{ 'backlog.filter_history' | translate }}</label>
    <div class="profile-badges">
      <button
        class="badge-filter"
        [class.selected]="historyFilter === ''"
        (click)="historyFilterChange.emit('')"
      >
        {{ 'common.all' | translate }}
      </button>
      <button
        class="badge-filter"
        [class.selected]="historyFilter === 'unmodified'"
        (click)="historyFilterChange.emit('unmodified')"
      >
        {{ 'history.filter_unmodified' | translate }}
      </button>
      <button
        class="badge-filter"
        [class.selected]="historyFilter === 'modified'"
        (click)="historyFilterChange.emit('modified')"
      >
        {{ 'history.filter_modified' | translate }}
      </button>
    </div>
  </div>
</div>
